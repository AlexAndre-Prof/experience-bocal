
<!DOCTYPE html>
<html lang='fr'>
<head>
    <meta charset='UTF-8'>
    <title>Expérience du Bocal</title>
    <link rel='icon' type='image/png' href='https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_balles_et_de_sable_et_de_graviers.png?v=1756025314'>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-image: url('https://cdn.shopify.com/s/files/1/0934/1416/2771/files/jpeg.png?v=1756030797');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        .container { display: flex; justify-content: space-around; margin-top: 20px; flex-wrap: wrap; }
        .elements, .bocal-zone { border: 2px solid #ccc; padding: 10px; width: 30%; min-width: 280px; background-color: #ffffffcc; border-radius: 10px; margin: 10px auto; }
        img { width: 100px; height: auto; cursor: grab; }
        .bocal-zone img { width: 150px; height: auto; margin-bottom: 10px; }
        .slots { display: flex; justify-content: space-around; margin-top: 10px; flex-wrap: wrap; }
        .slot { border: 2px dashed #aaa; width: 100px; height: 100px; line-height: 100px; text-align: center; font-size: 20px; background-color: #f0f0f0; margin: 5px; }
        #validateBtn, #restartBtn { margin-top: 20px; padding: 10px 20px; font-size: 16px; }
        #restartBtn { display: none; }
        #message { margin-top: 20px; font-size: 18px; color: #333; }
        iframe { margin-top: 20px; max-width: 90%; }
        @media (max-width: 768px) {
            .container { flex-direction: column; align-items: center; }
            .slots { flex-direction: column; align-items: center; }
            .slot { width: 80%; }
        }
    </style>
</head>
<body>
    <div style='background-color: rgba(255, 255, 255, 0.85); padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #333;'>
<h1 style='font-family: "Comic Sans MS", cursive, sans-serif; font-size: 32px; font-weight: bold;'>EXPÉRIENCE DU BOCAL</h1>
    <p style='font-size: 18px; max-width: 800px; margin: 0 auto;'>
        Tu dois faire en sorte que le bocal soit entièrement rempli. Pour cela tu as du sable, des balles de ping pong et des cailloux.<br>
        Tous ces éléments doivent rentrer dans le bocal. Trouve le bon ordre dans lequel les mettre dans le bocal pour qu'aucun élément ne déborde.<br>
        <strong>Bonne chance :)</strong>
    </p>
</div>
    <div class='container'>
        <div class='elements' ondrop='drop(event)' ondragover='allowDrop(event)'>
            <img src='https://cdn.shopify.com/s/files/1/0934/1416/2771/files/sable.png?v=1756025302' alt='Sable' id='sable' draggable='true' ondragstart='drag(event)'><img src='https://cdn.shopify.com/s/files/1/0934/1416/2771/files/graviers.png?v=1756025299' alt='Graviers' id='graviers' draggable='true' ondragstart='drag(event)'><img src='https://cdn.shopify.com/s/files/1/0934/1416/2771/files/balles.png?v=1756025313' alt='Balles' id='balles' draggable='true' ondragstart='drag(event)'>
        </div>
        <div class='bocal-zone'>
            <img id='bocalImage' src='https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_vide.png?v=1756025299' alt='Bocal vide'>
            <div class='slots'>
                <div class='slot' id='slot1' ondrop='drop(event)' ondragover='allowDrop(event)'>1</div>
                <div class='slot' id='slot2' ondrop='drop(event)' ondragover='allowDrop(event)'>2</div>
                <div class='slot' id='slot3' ondrop='drop(event)' ondragover='allowDrop(event)'>3</div>
            </div>
        </div>
    </div>
    <button id='validateBtn' disabled onclick='validateOrder()'>Valider</button>
    <button id='restartBtn' onclick='restartGame()'>Recommencer</button>
    <div id='message'></div>
    <div id='video'></div>
    <script>
        function allowDrop(ev) { ev.preventDefault(); }
        function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); }
        function drop(ev) {
            ev.preventDefault();
            var data = ev.dataTransfer.getData("text");
            var element = document.getElementById(data);
            if (!ev.target.contains(element)) {
                ev.target.innerHTML = "";
                ev.target.appendChild(element);
            }
            updateButtonState();
        }
        function updateButtonState() {
            const slots = ["slot1", "slot2", "slot3"];
            const filled = slots.every(id => document.getElementById(id).querySelector("img"));
            document.getElementById("validateBtn").disabled = !filled;
        }
        function validateOrder() {
            const slots = ["slot1", "slot2", "slot3"];
            const current = slots.map(id => {
                const img = document.getElementById(id).querySelector("img");
                return img ? img.id : null;
            });
            const bocalImage = document.getElementById("bocalImage");
            const restartBtn = document.getElementById("restartBtn");
            const message = document.getElementById("message");
            const video = document.getElementById("video");
            const mapping = {
                "balles,graviers,sable": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_balles_et_de_sable_et_de_graviers.png?v=1756025314",
                "balles,sable,graviers": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_balles_et_de_sable_et_graviers_dehors.png?v=1756025314",
                "sable,balles,graviers": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_sable_et_balles_et_graviers_dehors.png?v=1756025306",
                "sable,graviers,balles": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_sable_et_graviers_et_balles_en_dehors.png?v=1756025308",
                "graviers,balles,sable": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_graviers_et_de_balles_et_sable_dehors.png?v=1756025314",
                "graviers,sable,balles": "https://cdn.shopify.com/s/files/1/0934/1416/2771/files/bocal_rempli_de_graviers_et_de_sable_et_balles_en_dehors.png?v=1756025307"
            };
            const key = current.join(',');
            if (mapping[key]) { bocalImage.src = mapping[key]; }
            if (key === "balles,graviers,sable") {
                message.textContent = "Bravo ! Tu as réussi à remplir le bocal ! Pour comprendre le but de cette expérience, regarde cette vidéo :";
                video.innerHTML = "<iframe width='560' height='315' src='https://www.youtube.com/embed/2n7Y9Bc6mGw' title='YouTube video' frameborder='0' allowfullscreen></iframe>";
            } else {
                message.textContent = "L'ordre est incorrect. Tu peux recommencer.";
                restartBtn.style.display = "inline-block";
                video.innerHTML = "";
            }
        }
        function restartGame() { location.reload(); }
    </script>
</body>
</html>
